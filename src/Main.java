//
// Source code recreated from a .class file by IntelliJ IDEA
// (powered by FernFlower decompiler)
//

import java.awt.*;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;
import javax.imageio.ImageIO;

public class Main {
    public static void main(String[] args) throws IOException {
        int [][] array = imageToHexArray("C:\\Users\\Sazgar\\IdeaProjects\\DSFinalProject2\\images.png" , 512 , 512);
        int[][] array2 = new int[][]{
                {0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0x8823b0, 0xcf36c2, 0xf58d42, 0xf58d42, 0x36c4cf, 0xcf36c2},
                {0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xFFFFFF, 0x8823b0, 0xf58d42, 0xf58d42, 0x8823b0, 0x0000FF},
                {0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xcf36c2, 0xFFFFFF, 0x8823b0, 0x8823b0, 0x36c4cf, 0xf58d42, 0x8823b0, 0x36c4cf},
                {0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xFFFFFF, 0x8823b0, 0xcf36c2, 0xf58d42, 0x36c4cf, 0x8823b0, 0x0000FF},
                {0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0x8823b0, 0x0000FF, 0xf58d42, 0xf58d42, 0x8823b0, 0xcf36c2},
                {0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xcf36c2, 0xFFFFFF, 0x8823b0, 0xf58d42, 0xf58d42, 0x8823b0, 0xcf36c2},
                {0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xFFFFFF, 0x8823b0, 0x8823b0, 0x36c4cf, 0xf58d42, 0x36c4cf, 0x0000FF},
                {0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xf58d42, 0xFFFFFF, 0x8823b0, 0xcf36c2, 0xf58d42, 0xf58d42, 0x8823b0, 0x0000FF},
                {0xf58d42, 0xf58d42, 0x8823b0, 0xcf36c2, 0xf58d42, 0xf58d42, 0x36c4cf, 0xcf36c2, 0xf58d42, 0xf58d42, 0x8823b0, 0xcf36c2, 0xf58d42, 0xf58d42, 0x36c4cf, 0xcf36c2},
                {0xf58d42, 0xf58d42, 0xFFFFFF, 0x8823b0, 0xf58d42, 0xf58d42, 0x8823b0, 0x0000FF, 0xf58d42, 0xf58d42, 0xFFFFFF, 0x8823b0, 0xf58d42, 0xf58d42, 0x8823b0, 0x0000FF},
                {0xcf36c2, 0xFFFFFF, 0x8823b0, 0x8823b0, 0x36c4cf, 0xf58d42, 0x8823b0, 0x36c4cf, 0xcf36c2, 0xFFFFFF, 0x8823b0, 0x8823b0, 0x36c4cf, 0xf58d42, 0x8823b0, 0x36c4cf},
                {0xf58d42, 0xFFFFFF, 0x8823b0, 0xcf36c2, 0xf58d42, 0x36c4cf, 0x8823b0, 0x0000FF, 0xf58d42, 0xFFFFFF, 0x8823b0, 0xcf36c2, 0xf58d42, 0x36c4cf, 0x8823b0, 0x0000FF},
                {0xf58d42, 0xf58d42, 0x8823b0, 0x0000FF, 0xf58d42, 0xf58d42, 0x8823b0, 0xcf36c2, 0xf58d42, 0xf58d42, 0x8823b0, 0x0000FF, 0xf58d42, 0xf58d42, 0x8823b0, 0xcf36c2},
                {0xf58d42, 0xcf36c2, 0xFFFFFF, 0x8823b0, 0xf58d42, 0xf58d42, 0x8823b0, 0xcf36c2, 0xf58d42, 0xcf36c2, 0xFFFFFF, 0x8823b0, 0xf58d42, 0xf58d42, 0x8823b0, 0xcf36c2},
                {0xf58d42, 0xFFFFFF, 0x8823b0, 0x8823b0, 0x36c4cf, 0xf58d42, 0x36c4cf, 0x0000FF, 0xf58d42, 0xFFFFFF, 0x8823b0, 0x8823b0, 0x36c4cf, 0xf58d42, 0x36c4cf, 0x0000FF},
                {0xf58d42, 0xFFFFFF, 0x8823b0, 0xcf36c2, 0xf58d42, 0xf58d42, 0x8823b0, 0x0000FF, 0xf58d42, 0xFFFFFF, 0x8823b0, 0xcf36c2, 0xf58d42, 0xf58d42, 0x8823b0, 0x0000FF}
        };
        quadTree q = new quadTree(array2);
        q.Divide(array2,0);
        System.out.println(q.treeDepth());
        int[][] ans = q.data;
//        q.travis();
//        q.mask(260,53,402,64);
//        q.search(100,100,128,128);
        quadTree temp = q.compress(16);
        BufferedImage image = temp.convertToImage();
        try {
            ImageIO.write(image, "PNG", new File("output_image.png"));
            System.out.println("Image saved successfully!");
        } catch (IOException var6) {
            System.out.println("Error saving image: " + var6.getMessage());
        }
    }
        public static int[][] imageToHexArray(String imagePath, int width, int height) throws IOException {
            BufferedImage img = ImageIO.read(new File("C:\\Users\\Sazgar\\IdeaProjects\\DSFinalProject2\\images.png"));

            BufferedImage resizedImg = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);
            resizedImg.getGraphics().drawImage(img, 0, 0, width, height, null);

            // Initialize the 2D hex array
            int[][] hexArray = new int[height][width];

            // Populate the hex array with pixel values
            for (int y = 0; y < height; y++) {
                for (int x = 0; x < width; x++) {
                    Color color = new Color(resizedImg.getRGB(x, y));
                    int hexColor = (color.getRed() << 16) | (color.getGreen() << 8) | color.getBlue();
                    hexArray[y][x] = hexColor;
                }
            }

            return hexArray;
        }
}
